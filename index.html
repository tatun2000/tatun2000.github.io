<!-- 
<script type="text/javascript">
const createAndPushPixel = function (tags, goalValue, matchingParams, timeout) {
    const url =
        'https://pxl.dmitry-borisenko.dev.altkraft.com/pixel?k=34FyFph%2BVuzFYrhPh7C10Nk7Jg3MJUl1m%2Fqui6fGQJa6XD9SM9jghQ%3D%3D&s=XZCMwL8NN%2B8%3D'

    const goals = (Array.isArray(tags) ?  [...tags] : [tags]).map((tag) => encodeURIComponent(tag)).join(',')
    const value = encodeURIComponent(String(goalValue || 0))
    const matchingMode = encodeURIComponent(matchingParams.matchingMode || '')
    const dbId = encodeURIComponent(matchingParams.dbId || 0)
    const match = encodeURIComponent(JSON.stringify(matchingParams.match || {}))
    const update = encodeURIComponent(JSON.stringify(matchingParams.update || {}))
    setTimeout(() => {
        new Image().src = [
            url,
            `goals=${goals}`,
            `value=${value}`,
            `db_id=${dbId}`,
            `mmode=${matchingMode}`,
            `match=${match}`,
            `update=${update}`
        ].join('&')
    }, timeout)
}

const altcraftPixelPush = (
    tags,
    goalValue,
    clientId
) => {
    const arrTags = Array.isArray(tags) ? tags : [tags]

    const update = {}
    const matchingMode = 'custom'
    const dbId = 17
    const match = {
        db_id: 17,
        field_name: 'custom_field',
        field_value: clientId
    }

    createAndPushPixel(
        arrTags,
        goalValue,
        {
            match,
            update,
            matchingMode,
            dbId
        },
        0
    )
}
</script>
-->

<!doctype html>
<html lang="ru">
<head>
  <script>
    (function (popupFunc) {
                    var script = document.createElement('script');
                    var firstScript = document.getElementsByTagName('script')[0];
                    window[popupFunc] = window[popupFunc] || function () {
                        (window[popupFunc].actions = window[popupFunc].actions || []).push(arguments);
                    };
                    window[popupFunc].last_init = 1 * new Date()
                    window['ACPopupFuncNamePlaceholder'] = popupFunc;
                    script.async = true;
                    script.src = 'https://pxl.dmitry-borisenko.dev.altkraft.com/popup/v1/popupLibrary.js';
                    firstScript.parentNode.insertBefore(script, firstScript);
    })('acpopup');
    </script>
    <script>
        acpopup('create', 'AP-ABH6hmBqXLeGxZtKAio7imQ=');
        acpopup('show', 'AP-ABH6hmBqXLeGxZtKAio7imQ=');
    </script>
</head>
</html>
